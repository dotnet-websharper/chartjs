(function(n){"use strict";n.IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};n.IntelliFactory.Runtime.OnLoad(function(){n.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});n.ignore=function(){};n.id=function(n){return n};n.fst=function(n){return n[0]};n.snd=function(n){return n[1]};n.trd=function(n){return n[2]};n.console||(n.console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore})})(self);
/* https://github.com/jonathantneal/closest */
(function(w,p){p=w.Element.prototype
if(!p.matches){p.matches=p.msMatchesSelector||function(s){var m=(this.document||this.ownerDocument).querySelectorAll(s);for(var i=0;m[i]&&m[i]!==e;++i);return!!m[i]}}
if(!p.closest){p.closest=function(s){var e=this;while(e&&e.nodeType==1){if(e.matches(s))return e;e=e.parentNode}return null}}})(self);
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD;b=a.WebSharper=a.WebSharper||{};c=b.ChartJs=b.ChartJs||{};d=c.Testing=c.Testing||{};e=d.Client=d.Client||{};f=b.Operators=b.Operators||{};g=b.Obj=b.Obj||{};h=b.UI=b.UI||{};i=h.Doc=h.Doc||{};j=h.HtmlModule=h.HtmlModule||{};k=j.attr=j.attr||{};l=h.Array=h.Array||{};m=h.AttrProxy=h.AttrProxy||{};n=h.AttrModule=h.AttrModule||{};o=h.Client=h.Client||{};p=o.Templates=o.Templates||{};q=b.JavaScript=b.JavaScript||{};r=q.Pervasives=q.Pervasives||{};s=h.View=h.View||{};t=b.Arrays=b.Arrays||{};u=b.List=b.List||{};v=u.T=u.T||{};w=b.Unchecked=b.Unchecked||{};x=a.Object;y=h.DomUtility=h.DomUtility||{};z=h.Attrs=h.Attrs||{};A=a.StartupCode$WebSharper_ChartJs_Testing$Client=a.StartupCode$WebSharper_ChartJs_Testing$Client||{};B=a.EventTarget;C=a.Node;D=q.JS=q.JS||{};E=b.Collections=b.Collections||{};F=E.Dictionary=E.Dictionary||{};G=h.DocElemNode=h.DocElemNode||{};H=a.CharacterData;I=b.Enumerator=b.Enumerator||{};J=h.Snap=h.Snap||{};K=a.ADataSet;L=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};M=E.HashSet=E.HashSet||{};N=b.Seq=b.Seq||{};O=a.WindowOrWorkerGlobalScope;P=h.Docs=h.Docs||{};Q=I.T=I.T||{};R=o.Attrs=o.Attrs||{};S=R.Dyn=R.Dyn||{};T=b.Numeric=b.Numeric||{};U=h.Elt=h.Elt||{};V=E.DictionaryUtil=E.DictionaryUtil||{};W=p.Prepare=p.Prepare||{};X=b.Slice=b.Slice||{};Y=E.KeyCollection=E.KeyCollection||{};Z=h.An=h.An||{};_0=o.Settings=o.Settings||{};_1=h.Abbrev=h.Abbrev||{};_2=_1.Mailbox=_1.Mailbox||{};_3=h.Updates=h.Updates||{};_4=b.Strings=b.Strings||{};_5=o.Docs=o.Docs||{};_6=_5.RunState=_5.RunState||{};_7=_5.NodeSet=_5.NodeSet||{};_8=b.Concurrency=b.Concurrency||{};_9=h.Anims=h.Anims||{};_=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};$=_1.Fresh=_1.Fresh||{};ba=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bb=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bc=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bd=h.AppendList=h.AppendList||{};be=E.HashSetUtil=E.HashSetUtil||{};bf=b.Queue=b.Queue||{};bg=h.Var=h.Var||{};bh=h.BindVar=h.BindVar||{};bi=h.String=h.String||{};bj=h.CheckedInput=h.CheckedInput||{};bk=_8.Scheduler=_8.Scheduler||{};bl=h.Easing=h.Easing||{};bm=_8.AsyncBody=_8.AsyncBody||{};bn=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bo=_8.CT=_8.CT||{};bp=_1.HashSet=_1.HashSet||{};bq=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};br=b.Char=b.Char||{};bs=b.CancellationTokenSource=b.CancellationTokenSource||{};bt=_5.DomNodes=_5.DomNodes||{};bu=a.Error;bv=b.OperationCanceledException=b.OperationCanceledException||{};bw=b.Lazy=b.Lazy||{};bx=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};by=b.LazyExtensionsProxy=b.LazyExtensionsProxy||{};bz=by.LazyRecord=by.LazyRecord||{};bA=a.IntelliFactory;bB=bA&&bA.Runtime;bC=a.console;bD=a.Date;e.Main=function(){var bE;bE=i.Concat([i.Element("h1",[],[i.TextNode("ChartJs sample site")]),i.Element("h2",[],[i.TextNode("Linear chart")]),i.Element("canvas",[m.Create("id","linear"),n.OnAfterRender(function(){e.linear();})],[]),i.Element("h2",[],[i.TextNode("Bar chart")]),i.Element("canvas",[m.Create("id","bar"),n.OnAfterRender(function(){e.bar();})],[]),i.Element("h2",[],[i.TextNode("Pie chart")]),i.Element("canvas",[m.Create("id","pie"),n.OnAfterRender(function(){e.pie();})],[]),i.Element("h2",[],[i.TextNode("Doughnut chart")]),i.Element("canvas",[m.Create("id","doughnut"),n.OnAfterRender(function(){e.doughnut();})],[]),i.Element("h2",[],[i.TextNode("Bubble chart")]),i.Element("canvas",[m.Create("id","bubble"),n.OnAfterRender(function(){e.bubble();})],[]),i.Element("h2",[],[i.TextNode("Scatter chart")]),i.Element("canvas",[m.Create("id","scatter"),n.OnAfterRender(function(){e.scatter();})],[]),i.Element("h2",[],[i.TextNode("Radar chart")]),i.Element("canvas",[m.Create("id","radar"),n.OnAfterRender(function(){e.radar();})],[]),i.Element("h2",[],[i.TextNode("Mixed chart")]),i.Element("canvas",[m.Create("id","mixed"),n.OnAfterRender(function(){e.mixed();})],[])]);p.LoadLocalTemplates("");i.RunById("main",bE);};e.linear=function(){return new a.Chart("linear",e.linearChart());};e.bar=function(){return new a.Chart("bar",e.barChart());};e.pie=function(){return new a.Chart("pie",e.pieChart());};e.doughnut=function(){return new a.Chart("doughnut",e.doughnutChart());};e.bubble=function(){return new a.Chart("bubble",e.bubbleChart());};e.scatter=function(){return new a.Chart("scatter",e.scatterChart());};e.radar=function(){return new a.Chart("radar",e.radarChart());};e.mixed=function(){return new a.Chart("mixed",e.mixedChart());};e.linearChart=function(){A.$cctor();return A.linearChart;};e.barChart=function(){A.$cctor();return A.barChart;};e.pieChart=function(){A.$cctor();return A.pieChart;};e.doughnutChart=function(){A.$cctor();return A.doughnutChart;};e.bubbleChart=function(){A.$cctor();return A.bubbleChart;};e.scatterChart=function(){A.$cctor();return A.scatterChart;};e.radarChart=function(){A.$cctor();return A.radarChart;};e.mixedChart=function(){A.$cctor();return A.mixedChart;};e.linearDataSet=function(){A.$cctor();return A.linearDataSet;};e.linearData=function(){A.$cctor();return A.linearData;};e.linearOptions=function(){A.$cctor();return A.linearOptions;};e.ds1=function(){A.$cctor();return A.ds1;};e.ds2=function(){A.$cctor();return A.ds2;};e.mixedData=function(){A.$cctor();return A.mixedData;};f.FailWith=function(bE){throw new bu(bE);};f.KeyValue=function(bE){return[bE.K,bE.V];};g=b.Obj=bB.Class({Equals:function(bE){return this===bE;},GetHashCode:function(){return -1;}},null,g);g.New=bB.Ctor(function(){},g);i=h.Doc=bB.Class({},g,i);i.Concat=function(bE){var bF;bF=l.ofSeqNonCopying(bE);return l.TreeReduce(i.get_Empty(),i.Append,bF);};i.Append=function(bE,bF){return i.Mk({$:0,$0:bE.docNode,$1:bF.docNode},s.Map2Unit(bE.updates,bF.updates));};i.get_Empty=function(){return i.Mk(null,s.Const());};i.TextNode=function(bE){return i.Mk({$:5,$0:self.document.createTextNode(bE)},s.Const());};i.RunById=function(bE,bF){var bG;bG=self.document.getElementById(bE);if(w.Equals(bG,null))f.FailWith("invalid id: "+bE);else i.Run(bG,bF);};i.Mk=function(bE,bF){return new i.New(bE,bF);};i.Element=function(bE,bF,bG){var bH,bI;bH=m.Concat(bF);bI=i.Concat(bG);return U.New(self.document.createElement(bE),bH,bI);};i.Run=function(bE,bF){P.LinkElement(bE,bF.docNode);i.RunInPlace(false,bE,bF);};i.RunInPlace=function(bE,bF,bG){var bH;bH=P.CreateRunState(bF,bG.docNode);s.Sink(Z.get_UseAnimations()||_0.BatchUpdatesEnabled()?_2.StartProcessor(P.PerformAnimatedUpdate(bE,bH,bG.docNode)):function(){P.PerformSyncUpdate(bE,bH,bG.docNode);},bG.updates);};i.New=bB.Ctor(function(bE,bF){g.New.call(this);this.docNode=bE;this.updates=bF;},i);k=j.attr=bB.Class({},g,k);l.ofSeqNonCopying=function(bE){var bF,bG;if(bE instanceof a.Array)return bE;else if(bE instanceof v)return t.ofList(bE);else if(bE===null)return[];else{bF=[];bG=I.Get(bE);try{while(bG.MoveNext())bF.push(bG.Current());return bF;}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}}};l.TreeReduce=function(bE,bF,bG){var bH;function bI(bJ){return function(bK){var bL,bM;return bK<=0?bE:bK===1&&(bJ>=0&&bJ<bH)?t.get(bG,bJ):(bM=bK/2>>0,bF((bI(bJ))(bM),(bI(bJ+bM))(bK-bM)));};}bH=t.length(bG);return(bI(0))(bH);};l.MapTreeReduce=function(bE,bF,bG,bH){var bI;function bJ(bK){return function(bL){var bM,bN;return bL<=0?bF:bL===1&&(bK>=0&&bK<bI)?bE(t.get(bH,bK)):(bN=bL/2>>0,bG((bJ(bK))(bN),(bJ(bK+bN))(bL-bN)));};}bI=t.length(bH);return(bJ(0))(bI);};m=h.AttrProxy=bB.Class({},null,m);m.Create=function(bE,bF){return z.Static(function(bG){bG.setAttribute(bE,bF);});};m.Concat=function(bE){var bF;bF=l.ofSeqNonCopying(bE);return l.TreeReduce(z.EmptyAttr(),m.Append,bF);};m.Append=function(bE,bF){return z.AppendTree(bE,bF);};n.OnAfterRender=function(bE){return new m({$:4,$0:bE});};p.LoadLocalTemplates=function(bE){!p.LocalTemplatesLoaded()?(p.set_LocalTemplatesLoaded(true),p.LoadNestedTemplates(self.document.body,"")):void 0;p.LoadedTemplates().set_Item(bE,p.LoadedTemplateFile(""));};p.LocalTemplatesLoaded=function(){L.$cctor();return L.LocalTemplatesLoaded;};p.set_LocalTemplatesLoaded=function(bE){L.$cctor();L.LocalTemplatesLoaded=bE;};p.LoadNestedTemplates=function(bE,bF){var bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT;function bG(bU){var bV,bW;if(!bH.ContainsKey(bU)){bV=(bW=null,[bI.TryGetValue(bU,{get:function(){return bW;},set:function(bX){bW=bX;}}),bW]);if(bV[0]){bT.Add(bU);bI.Remove(bU);p.PrepareTemplateStrict(bF,{$:1,$0:bU},bV[1],{$:1,$0:bG});}else bC.warn(bT.Contains(bU)?"Encountered loop when instantiating "+bU:"Local template does not exist: "+bU);}}bH=p.LoadedTemplateFile(bF);bI=new F.New$5();bJ=bE.querySelectorAll("[ws-template]");for(bK=0,bL=bJ.length-1;bK<=bL;bK++){bM=bJ[bK];bN=bM.getAttribute("ws-template").toLowerCase();bM.removeAttribute("ws-template");bI.set_Item(bN,p.FakeRootSingle(bM));}bO=bE.querySelectorAll("[ws-children-template]");for(bP=0,bQ=bO.length-1;bP<=bQ;bP++){bR=bO[bP];bS=bR.getAttribute("ws-children-template").toLowerCase();bR.removeAttribute("ws-children-template");bI.set_Item(bS,p.FakeRoot(bR));}bT=new M.New$3();while(bI.count>0)bG(N.head(bI.get_Keys()));};p.LoadedTemplates=function(){L.$cctor();return L.LoadedTemplates;};p.LoadedTemplateFile=function(bE){var bF,bG,bH;bF=(bG=null,[p.LoadedTemplates().TryGetValue(bE,{get:function(){return bG;},set:function(bI){bG=bI;}}),bG]);return bF[0]?bF[1]:(bH=new F.New$5(),(p.LoadedTemplates().set_Item(bE,bH),bH));};p.FakeRootSingle=function(bE){var bF,bG,bH,bI;bE.removeAttribute("ws-template");bF=bE.getAttribute("ws-replace");if(bF===null);else{bE.removeAttribute("ws-replace");bG=bE.parentNode;w.Equals(bG,null)?void 0:(bH=self.document.createElement(bE.tagName),bH.setAttribute("ws-replace",bF),bG.replaceChild(bH,bE));}bI=self.document.createElement("div");bI.appendChild(bE);return bI;};p.FakeRoot=function(bE){var bF;bF=self.document.createElement("div");while(bE.hasChildNodes())bF.appendChild(bE.firstChild);return bF;};p.PrepareTemplateStrict=function(bE,bF,bG,bH){var bI;function bJ(bP,bQ){var bR,bS,bT,bU,bV,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf;function bW(cg){}while(true)switch(bP){case 0:if(bQ!==null){bR=bQ.nextSibling;if(w.Equals(bQ.nodeType,C.TEXT_NODE))W.convertTextNode(bQ);else if(w.Equals(bQ.nodeType,C.ELEMENT_NODE))bL(bQ);bQ=bR;}else return null;break;case 1:bX=X.string(bQ.nodeName,{$:1,$0:3},null).toLowerCase();bY=(bS=bX.indexOf("."),bS===-1?[bE,bX]:[X.string(bX,null,{$:1,$0:bS-1}),X.string(bX,{$:1,$0:bS+1},null)]);bZ=bY[1];b0=bY[0];if(b0!==""&&!p.LoadedTemplates().ContainsKey(b0))return W.failNotLoaded(bZ);else{if(b0===""&&bH!=null)bH.$0(bZ);b1=p.LoadedTemplates().get_Item(b0);if(!b1.ContainsKey(bZ))return W.failNotLoaded(bZ);else{b2=b1.get_Item(bZ);b3=b2.cloneNode(true);b4=new M.New$3();b5=new F.New$5();b6=bQ.attributes;for(b7=0,b8=b6.length-1;b7<=b8;b7++){b9=b6.item(b7).name.toLowerCase();b5.set_Item(b9,(b_=b6.item(b7).nodeValue,b_===""?b9:b_.toLowerCase()));if(!b4.Add(b9))bC.warn("Hole mapped twice",b9);}for(b$=0,ca=bQ.childNodes.length-1;b$<=ca;b$++){cb=bQ.childNodes[b$];if(w.Equals(cb.nodeType,C.ELEMENT_NODE))!b4.Add(cb.nodeName.toLowerCase())?bC.warn("Hole filled twice",bZ):void 0;}cc=bQ.childNodes.length===1&&w.Equals(bQ.firstChild.nodeType,C.TEXT_NODE);if(cc){bU=W.fillTextHole(b3,bQ.firstChild.textContent,bZ);((function(cg){return function(ch){if(ch!=null)cg(ch.$0);};}((bV=function(cg){return function(ch){return cg.Add(ch);};}(b4),function(cg){return bW(bV(cg));})))(bU));}W.removeHolesExcept(b3,b4);if(!cc){for(cd=0,ce=bQ.childNodes.length-1;cd<=ce;cd++){cf=bQ.childNodes[cd];if(w.Equals(cf.nodeType,C.ELEMENT_NODE))cf.hasAttributes()?W.fillInstanceAttrs(b3,cf):bK(b3,cf);}}W.mapHoles(b3,b5);W.fill(b3,bQ.parentNode,bQ);bQ.parentNode.removeChild(bQ);return;}}break;}}function bK(bP,bQ){var bR,bT,bU;function bS(bV,bW){var bX;if(bT==="title"&&bQ.hasChildNodes()){bX=y.ParseHTMLIntoFakeRoot(bQ.textContent);bQ.removeChild(bQ.firstChild);while(bX.hasChildNodes())bQ.appendChild(bX.firstChild);}else null;bL(bQ);return W.fill(bQ,bV,bW);}bT=bQ.nodeName.toLowerCase();p.foreachNotPreserved(bP,"[ws-attr-holes]",function(bV){var bW,bX,bY,bZ,b0;bW=_4.SplitChars(bV.getAttribute("ws-attr-holes"),[" "],1);for(bX=0,bY=bW.length-1;bX<=bY;bX++){bZ=t.get(bW,bX);bV.setAttribute(bZ,(b0=new a.RegExp("\\${"+bT+"}","ig"),bV.getAttribute(bZ).replace(b0,bQ.textContent)));}});bU=bP.querySelector("[ws-hole="+bT+"]");if(w.Equals(bU,null)){bR=bP.querySelector("[ws-replace="+bT+"]");return w.Equals(bR,null)?null:(bS(bR.parentNode,bR),void bR.parentNode.removeChild(bR));}else{while(bU.hasChildNodes())bU.removeChild(bU.lastChild);bU.removeAttribute("ws-hole");return bS(bU,null);}}function bL(bP){if(!bP.hasAttribute("ws-preserve"))if(_4.StartsWith(bP.nodeName.toLowerCase(),"ws-"))bN(bP);else{W.convertAttrs(bP);bM(bP.firstChild);}}function bM(bP){return bJ(0,bP);}function bN(bP){return bJ(1,bP);}function bO(bP){var bQ,bR,bS,bT;while(true){bQ=bP.querySelector("[ws-template]");if(w.Equals(bQ,null)){bR=bP.querySelector("[ws-children-template]");if(w.Equals(bR,null))return null;else{bS=bR.getAttribute("ws-children-template");bR.removeAttribute("ws-children-template");p.PrepareTemplateStrict(bE,{$:1,$0:bS},bR,null);bP=bP;}}else{bT=bQ.getAttribute("ws-template");(p.PrepareSingleTemplate(bE,{$:1,$0:bT},bQ))(null);bP=bP;}}}bI=(bF==null?"":bF.$0).toLowerCase();p.LoadedTemplateFile(bE).set_Item(bI,bG);if(bG.hasChildNodes()){bO(bG);bM(bG.firstChild);}};p.foreachNotPreserved=function(bE,bF,bG){y.IterSelector(bE,bF,function(bH){if(bH.closest("[ws-preserve]")==null)bG(bH);});};p.PrepareSingleTemplate=function(bE,bF,bG){var bH;bH=p.FakeRootSingle(bG);return function(bI){p.PrepareTemplateStrict(bE,bF,bH,bI);};};p.TextHoleRE=function(){L.$cctor();return L.TextHoleRE;};r.NewFromSeq=function(bE){var bF,bG,bH;bF={};bG=I.Get(bE);try{while(bG.MoveNext()){bH=bG.Current();bF[bH[0]]=bH[1];}}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}return bF;};s=h.View=bB.Class({},null,s);t.get=function(bE,bF){t.checkBounds(bE,bF);return bE[bF];};t.length=function(bE){return bE.dims===2?bE.length*bE.length:bE.length;};t.checkBounds=function(bE,bF){if(bF<0||bF>=bE.length)f.FailWith("Index was outside the bounds of the array.");};t.set=function(bE,bF,bG){t.checkBounds(bE,bF);bE[bF]=bG;};v=u.T=bB.Class({GetEnumerator:function(){return new Q.New(this,null,function(bE){var bF;bF=bE.s;return bF.$==0?false:(bE.c=bF.$0,bE.s=bF.$1,true);},void 0);},GetEnumerator0:function(){return I.Get(this);}},null,v);t.ofList=function(bE){var bF,bG;bG=[];bF=bE;while(!(bF.$==0)){bG.push(u.head(bF));bF=u.tail(bF);}return bG;};t.exists=function(bE,bF){var bG,bH,bI,bJ;bG=false;bH=0;bJ=t.length(bF);while(!bG&&bH<bJ)if(bE(bF[bH]))bG=true;else bH=bH+1;return bG;};t.tryPick=function(bE,bF){var bG,bH,bI;bG=null;bH=0;while(bH<bF.length&&bG==null){bI=bE(bF[bH]);if(bI!=null&&bI.$==1)bG=bI;bH=bH+1;}return bG;};t.tryFindIndex=function(bE,bF){var bG,bH;bG=null;bH=0;while(bH<bF.length&&bG==null){bE(bF[bH])?bG={$:1,$0:bH}:void 0;bH=bH+1;}return bG;};t.filter=function(bE,bF){var bG,bH,bI;bG=[];for(bH=0,bI=bF.length-1;bH<=bI;bH++)if(bE(bF[bH]))bG.push(bF[bH]);return bG;};t.map=function(bE,bF){var bG,bH,bI;bG=new a.Array(bF.length);for(bH=0,bI=bF.length-1;bH<=bI;bH++)bG[bH]=bE(bF[bH]);return bG;};t.iter=function(bE,bF){var bG,bH;for(bG=0,bH=bF.length-1;bG<=bH;bG++)bE(bF[bG]);};t.foldBack=function(bE,bF,bG){var bH,bI,bJ,bK,bL;bH=bG;bJ=bF.length;for(bK=1,bL=bJ;bK<=bL;bK++)bH=bE(bF[bJ-bK],bH);return bH;};t.concat=function(bE){return a.Array.prototype.concat.apply([],t.ofSeq(bE));};t.pick=function(bE,bF){var bG;bG=t.tryPick(bE,bF);return bG==null?f.FailWith("KeyNotFoundException"):bG.$0;};t.ofSeq=function(bE){var bF,bG;if(bE instanceof a.Array)return bE.slice();else if(bE instanceof v)return t.ofList(bE);else{bF=[];bG=I.Get(bE);try{while(bG.MoveNext())bF.push(bG.Current());return bF;}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}}};t.choose=function(bE,bF){var bG,bH,bI,bJ;bG=[];for(bH=0,bI=bF.length-1;bH<=bI;bH++){bJ=bE(bF[bH]);if(bJ==null);else bG.push(bJ.$0);}return bG;};t.create=function(bE,bF){var bG,bH,bI;bG=new a.Array(bE);for(bH=0,bI=bE-1;bH<=bI;bH++)bG[bH]=bF;return bG;};t.init=function(bE,bF){var bG,bH,bI;if(bE<0)f.FailWith("Negative size given.");else null;bG=new a.Array(bE);for(bH=0,bI=bE-1;bH<=bI;bH++)bG[bH]=bF(bH);return bG;};t.forall=function(bE,bF){var bG,bH,bI,bJ;bG=true;bH=0;bJ=t.length(bF);while(bG&&bH<bJ)if(bE(bF[bH]))bH=bH+1;else bG=false;return bG;};w.Equals=function(bE,bF){var bG,bH,bI,bJ;if(bE===bF)return true;else{bG=typeof bE;if(bG=="object"){if(bE===null||bE===void 0||bF===null||bF===void 0)return false;else if("Equals"in bE)return bE.Equals(bF);else if(bE instanceof a.Array&&bF instanceof a.Array)return w.arrayEquals(bE,bF);else if(bE instanceof a.Date&&bF instanceof a.Date)return w.dateEquals(bE,bF);else{bH=[true];for(var bK in bE)if(function(bL){bH[0]=!bE.hasOwnProperty(bL)||bF.hasOwnProperty(bL)&&w.Equals(bE[bL],bF[bL]);return!bH[0];}(bK))break;if(bH[0]){for(var bL in bF)if(function(bM){bH[0]=!bF.hasOwnProperty(bM)||bE.hasOwnProperty(bM);return!bH[0];}(bL))break;}return bH[0];}}else return bG=="function"&&("$Func"in bE?bE.$Func===bF.$Func&&bE.$Target===bF.$Target:"$Invokes"in bE&&"$Invokes"in bF&&w.arrayEquals(bE.$Invokes,bF.$Invokes));}};w.arrayEquals=function(bE,bF){var bG,bH;if(t.length(bE)===t.length(bF)){bG=true;bH=0;while(bG&&bH<t.length(bE)){!w.Equals(t.get(bE,bH),t.get(bF,bH))?bG=false:void 0;bH=bH+1;}return bG;}else return false;};w.dateEquals=function(bE,bF){return bE.getTime()===bF.getTime();};w.Hash=function(bE){var bF;bF=typeof bE;return bF=="function"?0:bF=="boolean"?bE?1:0:bF=="number"?bE:bF=="string"?w.hashString(bE):bF=="object"?bE==null?0:bE instanceof a.Array?w.hashArray(bE):w.hashObject(bE):0;};w.hashString=function(bE){var bF,bG,bH;if(bE===null)return 0;else{bF=5381;for(bG=0,bH=bE.length-1;bG<=bH;bG++)bF=w.hashMix(bF,bE[bG].charCodeAt());return bF;}};w.hashArray=function(bE){var bF,bG,bH;bF=-34948909;for(bG=0,bH=t.length(bE)-1;bG<=bH;bG++)bF=w.hashMix(bF,w.Hash(t.get(bE,bG)));return bF;};w.hashObject=function(bE){var bF,bG;if("GetHashCode"in bE)return bE.GetHashCode();else{bF=[0];for(var bH in bE)if(function(bI){bF[0]=w.hashMix(w.hashMix(bF[0],w.hashString(bI)),w.Hash(bE[bI]));return false;}(bH))break;return bF[0];}};w.hashMix=function(bE,bF){return(bE<<5)+bE+bF;};w.Compare=function(bE,bF){var bG,bH,bI,bJ,bK,bL;if(bE===bF)return 0;else{bH=typeof bE;switch(bH=="function"?1:bH=="boolean"?2:bH=="number"?2:bH=="string"?2:bH=="object"?3:0){case 0:return typeof bF=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return bE<bF?-1:1;case 3:if(bE===null)bI=-1;else if(bF===null)bI=1;else if("CompareTo"in bE)bI=bE.CompareTo(bF);else if("CompareTo0"in bE)bI=bE.CompareTo0(bF);else if(bE instanceof a.Array&&bF instanceof a.Array)bI=w.compareArrays(bE,bF);else if(bE instanceof a.Date&&bF instanceof a.Date)bI=w.compareDates(bE,bF);else{bJ=[0];for(var bM in bE)if(function(bN){return!bE.hasOwnProperty(bN)?false:!bF.hasOwnProperty(bN)?(bJ[0]=1,true):(bJ[0]=w.Compare(bE[bN],bF[bN]),bJ[0]!==0);}(bM))break;if(bJ[0]===0){for(var bN in bF)if(function(bO){return!bF.hasOwnProperty(bO)?false:!bE.hasOwnProperty(bO)&&(bJ[0]=-1,true);}(bN))break;}bI=bJ[0];}return bI;}}};w.compareArrays=function(bE,bF){var bG,bH;if(t.length(bE)<t.length(bF))return -1;else if(t.length(bE)>t.length(bF))return 1;else{bG=0;bH=0;while(bG===0&&bH<t.length(bE)){bG=w.Compare(t.get(bE,bH),t.get(bF,bH));bH=bH+1;}return bG;}};w.compareDates=function(bE,bF){return w.Compare(bE.getTime(),bF.getTime());};s.Map2Unit=function(bE,bF){return s.CreateLazy(function(){return J.Map2Unit(bE(),bF());});};s.Const=function(bE){var bF;bF=J.New({$:0,$0:bE});return function(){return bF;};};s.CreateLazy=function(bE){var bF;bF={c:null,o:bE};return function(){var bG,bH;bG=bF.c;return bG===null?(bG=bF.o(),bF.c=bG,(bH=bG.s,bH!=null&&bH.$==0)?bF.o=null:J.WhenObsoleteRun(bG,function(){bF.c=null;}),bG):bG;};};s.Sink=function(bE,bF){function bG(){J.WhenRun(bF(),bE,function(){_8.scheduler().Fork(bG);});}_8.scheduler().Fork(bG);};y.ParseHTMLIntoFakeRoot=function(bE){var bF,bG,bH,bI,bJ;function bK(bL,bM){var bN;while(true)if(bM===0)return bL;else{bN=bM;bL=bL.lastChild;bM=bN-1;}}bF=self.document.createElement("div");return!y.rhtml().test(bE)?(bF.appendChild(self.document.createTextNode(bE)),bF):(bG=(bH=y.rtagName().exec(bE),w.Equals(bH,null)?"":t.get(bH,1).toLowerCase()),(bI=(bJ=(y.wrapMap())[bG],bJ?bJ:y.defaultWrap()),(bF.innerHTML=bI[1]+bE.replace(y.rxhtmlTag(),"<$1></$2>")+bI[2],bK(bF,bI[0]))));};y.rhtml=function(){bb.$cctor();return bb.rhtml;};y.wrapMap=function(){bb.$cctor();return bb.wrapMap;};y.defaultWrap=function(){bb.$cctor();return bb.defaultWrap;};y.rxhtmlTag=function(){bb.$cctor();return bb.rxhtmlTag;};y.rtagName=function(){bb.$cctor();return bb.rtagName;};y.IterSelector=function(bE,bF,bG){var bH,bI,bJ;bH=bE.querySelectorAll(bF);for(bI=0,bJ=bH.length-1;bI<=bJ;bI++)bG(bH[bI]);};y.InsertAt=function(bE,bF,bG){var bH;if(!(bG.parentNode===bE&&bF===(bH=bG.nextSibling,w.Equals(bH,null)?null:bH)))bE.insertBefore(bG,bF);};y.RemoveNode=function(bE,bF){if(bF.parentNode===bE)bE.removeChild(bF);};z.Static=function(bE){return new m({$:3,$0:bE});};z.Updates=function(bE){return l.MapTreeReduce(function(bF){return bF.NChanged();},s.Const(),s.Map2Unit,bE.DynNodes);};z.AppendTree=function(bE,bF){var bG;return bE===null?bF:bF===null?bE:(bG=new m({$:2,$0:bE,$1:bF}),(z.SetFlags(bG,z.Flags(bE)|z.Flags(bF)),bG));};z.EmptyAttr=function(){ba.$cctor();return ba.EmptyAttr;};z.Insert=function(bE,bF){var bG,bH,bI;function bJ(bK){var bL,bM;while(true)if(!(bK===null)){if(bK!=null&&bK.$==1)return bG.push(bK.$0);else if(bK!=null&&bK.$==2){bL=bK.$1;bM=bK.$0;bJ(bM);bK=bL;}else return bK!=null&&bK.$==3?bK.$0(bE):bK!=null&&bK.$==4?bH.push(bK.$0):null;}else return null;}bG=[];bH=[];bJ(bF);bI=bG.slice(0);return S.New(bE,z.Flags(bF),bI,bH.length===0?null:{$:1,$0:function(bK){N.iter(function(bL){bL(bK);},bH);}});};z.SetFlags=function(bE,bF){bE.flags=bF;};z.Flags=function(bE){return bE!==null&&bE.hasOwnProperty("flags")?bE.flags:0;};z.HasExitAnim=function(bE){var bF;bF=2;return(bE.DynFlags&bF)===bF;};z.GetExitAnim=function(bE){return z.GetAnim(bE,function(bF,bG){return bF.NGetExitAnim(bG);});};z.HasEnterAnim=function(bE){var bF;bF=1;return(bE.DynFlags&bF)===bF;};z.GetEnterAnim=function(bE){return z.GetAnim(bE,function(bF,bG){return bF.NGetEnterAnim(bG);});};z.HasChangeAnim=function(bE){var bF;bF=4;return(bE.DynFlags&bF)===bF;};z.GetChangeAnim=function(bE){return z.GetAnim(bE,function(bF,bG){return bF.NGetChangeAnim(bG);});};z.GetAnim=function(bE,bF){return Z.Concat(t.map(function(bG){return bF(bG,bE.DynElem);},bE.DynNodes));};z.Sync=function(bE,bF){t.iter(function(bG){bG.NSync(bE);},bF.DynNodes);};A.$cctor=function(){var bE,bF,bG,bH,bI,bJ,bK,bL;A.$cctor=a.ignore;A.linearDataSet={};e.linearDataSet().label="# of Votes";e.linearDataSet().data=[12,19,3,5,2,3];e.linearDataSet().backgroundColor=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"];e.linearDataSet().borderColor=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];e.linearDataSet().borderWidth=3;A.linearData={};e.linearData().datasets=[e.linearDataSet()];e.linearData().labels=["red","blue","yellow","green","purple","orange"];A.linearOptions={};e.linearOptions().transitions=(bE={},bE.active=(bF={},bF.animation=(bG={},bG.duration=0,bG),bF),bE);e.linearOptions().plugins=(bH={},bH.title=(bI={},bI.display=true,bI.text="Custom Title",bI.font=(bJ={},bJ.size=30,bJ.family="'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",bJ.style="italic",bJ),bI),bH.subtitle=(bK={},bK.display=true,bK.text="Custom chart subtitle",bK.font=(bL={},bL.size=18,bL.family="'Lucida Console', 'Courier New', 'monospace'",bL),bK),bH);A.ds1={};e.ds1().type="line";e.ds1().label="Line Dataset";e.ds1().backgroundColor=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"];e.ds1().borderColor=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"];e.ds1().borderWidth=3;e.ds1().data=[10,20,30,40];A.ds2={};e.ds1().type="bar";e.ds2().label="Bar Dataset";e.ds2().data=[40,30,20,10];A.mixedData={};e.mixedData().datasets=[e.ds1(),e.ds2()];e.mixedData().labels=["January","February","March","April"];A.linearChart={type:"line",data:e.linearData(),options:e.linearOptions()};A.barChart={type:"bar",data:e.linearData(),options:e.linearOptions()};A.pieChart={type:"pie",data:e.linearData(),options:e.linearOptions()};A.doughnutChart={type:"doughnut",data:e.linearData(),options:e.linearOptions()};A.bubbleChart={type:"bubble",data:e.linearData(),options:e.linearOptions()};A.scatterChart={type:"scatter",data:e.linearData(),options:e.linearOptions()};A.radarChart={type:"radar",data:e.linearData(),options:e.linearOptions()};A.mixedChart={type:"line",data:e.mixedData(),options:e.linearOptions()};};D.GetFieldValues=function(bE){var bF,bG;bF=[];for(var bH in bE)bF.push(bE[bH]);return bF;};F=E.Dictionary=bB.Class({set_Item:function(bE,bF){this.set(bE,bF);},ContainsKey:function(bE){var bF,bG;bF=this;bG=this.data[this.hash(bE)];return bG==null?false:t.exists(function(bH){return bF.equals.apply(null,[(f.KeyValue(bH))[0],bE]);},bG);},TryGetValue:function(bE,bF){var bG,bH,bI;bG=this;bH=this.data[this.hash(bE)];return bH==null?false:(bI=t.tryPick(function(bJ){var bK;bK=f.KeyValue(bJ);return bG.equals.apply(null,[bK[0],bE])?{$:1,$0:bK[1]}:null;},bH),bI!=null&&bI.$==1&&(bF.set(bI.$0),true));},Remove:function(bE){return this.remove(bE);},get_Keys:function(){return new Y.New(this);},set:function(bE,bF){var bG,bH,bI,bJ;bG=this;bH=this.hash(bE);bI=this.data[bH];if(bI==null){this.count=this.count+1;this.data[bH]=new a.Array({K:bE,V:bF});}else{bJ=t.tryFindIndex(function(bK){return bG.equals.apply(null,[(f.KeyValue(bK))[0],bE]);},bI);bJ==null?(this.count=this.count+1,bI.push({K:bE,V:bF})):bI[bJ.$0]={K:bE,V:bF};}},remove:function(bE){var bF,bG,bH,bI;bF=this;bG=this.hash(bE);bH=this.data[bG];return bH==null?false:(bI=t.filter(function(bJ){return!bF.equals.apply(null,[(f.KeyValue(bJ))[0],bE]);},bH),t.length(bI)<bH.length&&(this.count=this.count-1,this.data[bG]=bI,true));},get_Item:function(bE){return this.get(bE);},get:function(bE){var bF,bG;bF=this;bG=this.data[this.hash(bE)];return bG==null?V.notPresent():t.pick(function(bH){var bI;bI=f.KeyValue(bH);return bF.equals.apply(null,[bI[0],bE])?{$:1,$0:bI[1]}:null;},bG);},GetEnumerator:function(){return I.Get0(this);},GetEnumerator0:function(){return I.Get0(t.concat(D.GetFieldValues(this.data)));}},g,F);F.New$5=bB.Ctor(function(){F.New$6.call(this,[],w.Equals,w.Hash);},F);F.New$6=bB.Ctor(function(bE,bF,bG){var bH,bI;g.New.call(this);this.equals=bF;this.hash=bG;this.count=0;this.data=[];bH=I.Get(bE);try{while(bH.MoveNext()){bI=bH.Current();this.set(bI.K,bI.V);}}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}},F);G=h.DocElemNode=bB.Class({Equals:function(bE){return this.ElKey===bE.ElKey;},GetHashCode:function(){return this.ElKey;}},null,G);G.New=function(bE,bF,bG,bH,bI,bJ){var bK;return new G((bK={Attr:bE,Children:bF,El:bH,ElKey:bI},(bB.SetOptional(bK,"Delimiters",bG),bB.SetOptional(bK,"Render",bJ),bK)));};u.head=function(bE){return bE.$==1?bE.$0:u.listEmpty();};u.tail=function(bE){return bE.$==1?bE.$1:u.listEmpty();};u.listEmpty=function(){return f.FailWith("The input list was empty.");};I.Get=function(bE){return bE instanceof a.Array?I.ArrayEnumerator(bE):w.Equals(typeof bE,"string")?I.StringEnumerator(bE):bE.GetEnumerator();};I.ArrayEnumerator=function(bE){return new Q.New(0,null,function(bF){var bG;bG=bF.s;return bG<t.length(bE)&&(bF.c=t.get(bE,bG),bF.s=bG+1,true);},void 0);};I.StringEnumerator=function(bE){return new Q.New(0,null,function(bF){var bG;bG=bF.s;return bG<bE.length&&(bF.c=bE[bG],bF.s=bG+1,true);},void 0);};I.Get0=function(bE){return bE instanceof a.Array?I.ArrayEnumerator(bE):w.Equals(typeof bE,"string")?I.StringEnumerator(bE):"GetEnumerator0"in bE?bE.GetEnumerator0():bE.GetEnumerator();};J.Map2Unit=function(bE,bF){var bG,bH,bI;function bJ(){var bK,bL,bM;if(!(bK=bI.s,bK!=null&&bK.$==0||bK!=null&&bK.$==2)){bL=J.ValueAndForever(bE);bM=J.ValueAndForever(bF);if(bL!=null&&bL.$==1)bM!=null&&bM.$==1?bL.$0[1]&&bM.$0[1]?J.MarkForever(bI,null):J.MarkReady(bI,null):void 0;}}bG=bE.s;bH=bF.s;return bG!=null&&bG.$==0?bH!=null&&bH.$==0?J.New({$:0,$0:null}):bF:bH!=null&&bH.$==0?bE:(bI=J.New({$:3,$0:[],$1:[]}),(J.When(bE,bJ,bI),J.When(bF,bJ,bI),bI));};J.WhenObsoleteRun=function(bE,bF){var bG;bG=bE.s;if(bG==null)bF();else bG!=null&&bG.$==2?bG.$1.push(bF):bG!=null&&bG.$==3?bG.$1.push(bF):void 0;};J.ValueAndForever=function(bE){var bF;bF=bE.s;return bF!=null&&bF.$==0?{$:1,$0:[bF.$0,true]}:bF!=null&&bF.$==2?{$:1,$0:[bF.$0,false]}:null;};J.MarkForever=function(bE,bF){var bG,bH,bI,bJ;bG=bE.s;if(bG!=null&&bG.$==3){bE.s={$:0,$0:bF};bH=bG.$0;for(bI=0,bJ=t.length(bH)-1;bI<=bJ;bI++)(t.get(bH,bI))(bF);}else void 0;};J.MarkReady=function(bE,bF){var bG,bH,bI,bJ;bG=bE.s;if(bG!=null&&bG.$==3){bE.s={$:2,$0:bF,$1:bG.$1};bH=bG.$0;for(bI=0,bJ=t.length(bH)-1;bI<=bJ;bI++)(t.get(bH,bI))(bF);}else void 0;};J.When=function(bE,bF,bG){var bH;bH=bE.s;if(bH==null)J.Obsolete(bG);else bH!=null&&bH.$==2?(J.EnqueueSafe(bH.$1,bG),bF(bH.$0)):bH!=null&&bH.$==3?(bH.$0.push(bF),J.EnqueueSafe(bH.$1,bG)):bF(bH.$0);};J.EnqueueSafe=function(bE,bF){var bG,bH,bI,bJ;bE.push(bF);if(bE.length%20===0){bG=bE.slice(0);bf.Clear(bE);for(bH=0,bI=t.length(bG)-1;bH<=bI;bH++){bJ=t.get(bG,bH);if(typeof bJ=="object")(function(bK){if(bK.s)bE.push(bK);}(bJ));else(function(bK){bE.push(bK);}(bJ));}}else void 0;};J.WhenRun=function(bE,bF,bG){var bH;bH=bE.s;if(bH==null)bG();else bH!=null&&bH.$==2?(bH.$1.push(bG),bF(bH.$0)):bH!=null&&bH.$==3?(bH.$0.push(bF),bH.$1.push(bG)):bF(bH.$0);};J.Copy=function(bE){var bF,bG,bH;bF=bE.s;return bF==null?bE:bF!=null&&bF.$==2?(bG=J.New({$:2,$0:bF.$0,$1:[]}),(J.WhenObsolete(bE,bG),bG)):bF!=null&&bF.$==3?(bH=J.New({$:3,$0:[],$1:[]}),(J.When(bE,function(bI){J.MarkDone(bH,bE,bI);},bH),bH)):bE;};J.WhenObsolete=function(bE,bF){var bG;bG=bE.s;if(bG==null)J.Obsolete(bF);else bG!=null&&bG.$==2?J.EnqueueSafe(bG.$1,bF):bG!=null&&bG.$==3?J.EnqueueSafe(bG.$1,bF):void 0;};J.MarkDone=function(bE,bF,bG){var bH;if(bH=bF.s,bH!=null&&bH.$==0)J.MarkForever(bE,bG);else J.MarkReady(bE,bG);};L.$cctor=function(){L.$cctor=a.ignore;L.LoadedTemplates=new F.New$5();L.LocalTemplatesLoaded=false;L.GlobalHoles=new F.New$5();L.TextHoleRE="\\${([^}]+)}";L.RenderedFullDocTemplate=null;};M=E.HashSet=bB.Class({Add:function(bE){return this.add(bE);},Contains:function(bE){var bF;bF=this.data[this.hash(bE)];return bF==null?false:this.arrContains(bE,bF);},add:function(bE){var bF,bG;bF=this.hash(bE);bG=this.data[bF];return bG==null?(this.data[bF]=[bE],this.count=this.count+1,true):this.arrContains(bE,bG)?false:(bG.push(bE),this.count=this.count+1,true);},arrContains:function(bE,bF){var bG,bH,bI,bJ;bG=true;bH=0;bJ=bF.length;while(bG&&bH<bJ)if(this.equals.apply(null,[bF[bH],bE]))bG=false;else bH=bH+1;return!bG;},ExceptWith:function(bE){var bF;bF=I.Get(bE);try{while(bF.MoveNext())this.Remove(bF.Current());}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bE){var bF,bG,bH,bI;bF=0;bG=be.concat(this.data);for(bH=0,bI=bG.length-1;bH<=bI;bH++)t.set(bE,bH,bG[bH]);},IntersectWith:function(bE){var bF,bG,bH,bI,bJ;bF=new M.New$4(bE,this.equals,this.hash);bG=be.concat(this.data);for(bH=0,bI=bG.length-1;bH<=bI;bH++){bJ=bG[bH];if(!bF.Contains(bJ))this.Remove(bJ);}},Remove:function(bE){var bF;bF=this.data[this.hash(bE)];return bF==null?false:this.arrRemove(bE,bF)&&(this.count=this.count-1,true);},arrRemove:function(bE,bF){var bG,bH,bI,bJ;bG=true;bH=0;bJ=bF.length;while(bG&&bH<bJ)if(this.equals.apply(null,[bF[bH],bE])){bF.splice.apply(bF,[bH,1]);bG=false;}else bH=bH+1;return!bG;},GetEnumerator:function(){return I.Get(be.concat(this.data));},GetEnumerator0:function(){return I.Get(be.concat(this.data));}},g,M);M.New$3=bB.Ctor(function(){M.New$4.call(this,[],w.Equals,w.Hash);},M);M.New$4=bB.Ctor(function(bE,bF,bG){var bH;g.New.call(this);this.equals=bF;this.hash=bG;this.data=[];this.count=0;bH=I.Get(bE);try{while(bH.MoveNext())this.add(bH.Current());}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}},M);M.New$2=bB.Ctor(function(bE){M.New$4.call(this,bE,w.Equals,w.Hash);},M);N.head=function(bE){var bF;bF=I.Get(bE);try{return bF.MoveNext()?bF.Current():N.insufficient();}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}};N.fold=function(bE,bF,bG){var bH,bI;bH=bF;bI=I.Get(bG);try{while(bI.MoveNext())bH=bE(bH,bI.Current());return bH;}finally{if(typeof bI=="object"&&"Dispose"in bI)bI.Dispose();}};N.iter=function(bE,bF){var bG;bG=I.Get(bF);try{while(bG.MoveNext())bE(bG.Current());}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}};N.map=function(bE,bF){return{GetEnumerator:function(){var bG;bG=I.Get(bF);return new Q.New(null,null,function(bH){return bG.MoveNext()&&(bH.c=bE(bG.Current()),true);},function(){bG.Dispose();});}};};N.max=function(bE){var bF,bG,bH;bF=I.Get(bE);try{if(!bF.MoveNext())N.seqEmpty();bG=bF.Current();while(bF.MoveNext()){bH=bF.Current();if(w.Compare(bH,bG)===1)bG=bH;}return bG;}finally{if(typeof bF=="object"&&"Dispose"in bF)bF.Dispose();}};N.forall=function(bE,bF){return!N.exists(function(bG){return!bE(bG);},bF);};N.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};N.exists=function(bE,bF){var bG,bH;bG=I.Get(bF);try{bH=false;while(!bH&&bG.MoveNext())bH=bE(bG.Current());return bH;}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}};P.LinkElement=function(bE,bF){P.InsertDoc(bE,bF,null);};P.InsertDoc=function(bE,bF,bG){var bH,bI,bJ;while(true)if(bF!=null&&bF.$==1)return P.InsertNode(bE,bF.$0.El,bG);else if(bF!=null&&bF.$==2){bH=bF.$0;bH.Dirty=false;bF=bH.Current;}else if(bF==null)return bG;else if(bF!=null&&bF.$==4)return P.InsertNode(bE,bF.$0.Text,bG);else if(bF!=null&&bF.$==5)return P.InsertNode(bE,bF.$0,bG);else if(bF!=null&&bF.$==6)return t.foldBack(function(bK,bL){return(((bB.Curried3(function(bM,bN,bO){return bN==null||bN.constructor===x?P.InsertDoc(bM,bN,bO):P.InsertNode(bM,bN,bO);}))(bE))(bK))(bL);},bF.$0.Els,bG);else{bI=bF.$1;bJ=bF.$0;bF=bJ;bG=P.InsertDoc(bE,bI,bG);}};P.CreateRunState=function(bE,bF){return _6.New(_7.get_Empty(),P.CreateElemNode(bE,z.EmptyAttr(),bF));};P.PerformAnimatedUpdate=function(bE,bF,bG){var bH;return Z.get_UseAnimations()?(bH=null,_8.Delay(function(){var bI,bJ,bK;bI=_7.FindAll(bG);bJ=P.ComputeChangeAnim(bF,bI);bK=P.ComputeEnterAnim(bF,bI);return _8.Bind(Z.Play(Z.Append(bJ,P.ComputeExitAnim(bF,bI))),function(){return _8.Bind(P.SyncElemNodesNextFrame(bE,bF),function(){return _8.Bind(Z.Play(bK),function(){bF.PreviousNodes=bI;return _8.Return(null);});});});})):P.SyncElemNodesNextFrame(bE,bF);};P.PerformSyncUpdate=function(bE,bF,bG){var bH;bH=_7.FindAll(bG);P.SyncElemNode(bE,bF.Top);bF.PreviousNodes=bH;};P.CreateElemNode=function(bE,bF,bG){var bH;P.LinkElement(bE,bG);bH=z.Insert(bE,bF);return G.New(bH,bG,null,bE,$.Int(),bB.GetOptional(bH.OnAfterRender));};P.InsertNode=function(bE,bF,bG){y.InsertAt(bE,bG,bF);return bF;};P.SyncElemNodesNextFrame=function(bE,bF){function bG(bH){a.requestAnimationFrame(function(){P.SyncElemNode(bE,bF.Top);bH();});}return _0.BatchUpdatesEnabled()?_8.FromContinuations(function(bH,bI,bJ){return bG.apply(null,[bH,bI,bJ]);}):(P.SyncElemNode(bE,bF.Top),_8.Return(null));};P.ComputeExitAnim=function(bE,bF){return Z.Concat(t.map(function(bG){return z.GetExitAnim(bG.Attr);},_7.ToArray(_7.Except(bF,_7.Filter(function(bG){return z.HasExitAnim(bG.Attr);},bE.PreviousNodes)))));};P.ComputeEnterAnim=function(bE,bF){return Z.Concat(t.map(function(bG){return z.GetEnterAnim(bG.Attr);},_7.ToArray(_7.Except(bE.PreviousNodes,_7.Filter(function(bG){return z.HasEnterAnim(bG.Attr);},bF)))));};P.ComputeChangeAnim=function(bE,bF){var bG;function bH(bI){return z.HasChangeAnim(bI.Attr);}bG=function(bI){return _7.Filter(bH,bI);};return Z.Concat(t.map(function(bI){return z.GetChangeAnim(bI.Attr);},_7.ToArray(_7.Intersect(bG(bE.PreviousNodes),bG(bF)))));};P.SyncElemNode=function(bE,bF){!bE?P.SyncElement(bF):void 0;P.Sync(bF.Children);P.AfterRender(bF);};P.SyncElement=function(bE){function bF(bG){function bH(bI){var bJ,bK,bL,bM;while(true){if(bI!=null&&bI.$==0){bK=bI.$1;bL=bI.$0;if(bH(bL))return true;else bI=bK;}else if(bI!=null&&bI.$==2){bM=bI.$0;if(bM.Dirty)return true;else bI=bM.Current;}else return bI!=null&&bI.$==6&&(bJ=bI.$0,bJ.Dirty||t.exists(bF,bJ.Holes));}}return bH(bG.Children);}z.Sync(bE.El,bE.Attr);if(bF(bE))P.DoSyncElement(bE);};P.Sync=function(bE){var bF,bG,bH,bI,bJ;while(true){if(bE!=null&&bE.$==1)return P.SyncElemNode(false,bE.$0);else if(bE!=null&&bE.$==2){bH=bE.$0;bE=bH.Current;}else if(bE==null)return null;else if(bE!=null&&bE.$==5)return null;else if(bE!=null&&bE.$==4){bF=bE.$0;return bF.Dirty?(bF.Text.nodeValue=bF.Value,bF.Dirty=false):null;}else if(bE!=null&&bE.$==6){bG=bE.$0;t.iter(function(bK){return function(bL){P.SyncElemNode(bK,bL);};}(false),bG.Holes);t.iter(function(bK){z.Sync(bK[0],bK[1]);},bG.Attrs);return P.AfterRender(bG);}else{bI=bE.$1;bJ=bE.$0;P.Sync(bJ);bE=bI;}}};P.AfterRender=function(bE){var bF;bF=bB.GetOptional(bE.Render);if(bF!=null&&bF.$==1){bF.$0(bE.El);bB.SetOptional(bE,"Render",null);}};P.DoSyncElement=function(bE){var bF,bG,bH;function bI(bJ,bK){var bL,bM,bN,bO;while(true){if(bJ!=null&&bJ.$==1)return bJ.$0.El;else if(bJ!=null&&bJ.$==2){bM=bJ.$0;if(bM.Dirty){bM.Dirty=false;return P.InsertDoc(bF,bM.Current,bK);}else bJ=bM.Current;}else if(bJ==null)return bK;else if(bJ!=null&&bJ.$==4)return bJ.$0.Text;else if(bJ!=null&&bJ.$==5)return bJ.$0;else if(bJ!=null&&bJ.$==6){bL=bJ.$0;bL.Dirty?bL.Dirty=false:void 0;return t.foldBack(function(bP,bQ){return bP==null||bP.constructor===x?bI(bP,bQ):bP;},bL.Els,bK);}else{bN=bJ.$1;bO=bJ.$0;bJ=bO;bK=bI(bN,bK);}}}bF=bE.El;bt.Iter((bG=bE.El,function(bJ){y.RemoveNode(bG,bJ);}),bt.Except(bt.DocChildren(bE),bt.Children(bE.El,bB.GetOptional(bE.Delimiters))));bI(bE.Children,(bH=bB.GetOptional(bE.Delimiters),bH!=null&&bH.$==1?bH.$0[1]:null));};Q=I.T=bB.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,Q);Q.New=bB.Ctor(function(bE,bF,bG,bH){g.New.call(this);this.s=bE;this.c=bF;this.n=bG;this.d=bH;},Q);S.New=function(bE,bF,bG,bH){var bI;bI={DynElem:bE,DynFlags:bF,DynNodes:bG};bB.SetOptional(bI,"OnAfterRender",bH);return bI;};T.TryParseInt32=function(bE,bF){return T.TryParse(bE,-2147483648,2147483647,bF);};J.Obsolete=function(bE){var bF,bG,bH,bI,bJ;bG=bE.s;if(bG==null||(bG!=null&&bG.$==2?(bF=bG.$1,false):bG!=null&&bG.$==3?(bF=bG.$1,false):true))void 0;else{bE.s=null;for(bH=0,bI=t.length(bF)-1;bH<=bI;bH++){bJ=t.get(bF,bH);if(typeof bJ=="object")(function(bK){J.Obsolete(bK);}(bJ));else bJ();}}};J.New=function(bE){return{s:bE};};U=h.Elt=bB.Class({},i,U);U.New=function(bE,bF,bG){var bH,bI;bH=P.CreateElemNode(bE,bF,bG.docNode);bI=_3.Create(bG.updates);return new U.New$1({$:1,$0:bH},s.Map2Unit(z.Updates(bH.Attr),bI.v),bE,bI);};U.New$1=bB.Ctor(function(bE,bF,bG,bH){i.New.call(this,bE,bF);this.docNode$1=bE;this.updates$1=bF;this.elt=bG;this.rvUpdates=bH;},U);V.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};W.convertTextNode=function(bE){var bF,bG,bH,bI,bJ,bK;bF=null;bG=0;bI=bE.textContent;bJ=new a.RegExp(p.TextHoleRE(),"g");while(bF=bJ.exec(bI),bF!==null){bE.parentNode.insertBefore(self.document.createTextNode(X.string(bI,{$:1,$0:bG},{$:1,$0:bJ.lastIndex-t.get(bF,0).length-1})),bE);bG=bJ.lastIndex;bK=self.document.createElement("span");bK.setAttribute("ws-replace",t.get(bF,1).toLowerCase());bE.parentNode.insertBefore(bK,bE);}bJ.lastIndex=0;bE.textContent=X.string(bI,{$:1,$0:bG},null);};W.failNotLoaded=function(bE){bC.warn("Instantiating non-loaded template",bE);};W.fillTextHole=function(bE,bF,bG){var bH;bH=bE.querySelector("[ws-replace]");return w.Equals(bH,null)?(bC.warn("Filling non-existent text hole",bG),null):(bH.parentNode.replaceChild(self.document.createTextNode(bF),bH),{$:1,$0:bH.getAttribute("ws-replace")});};W.removeHolesExcept=function(bE,bF){function bG(bH){p.foreachNotPreserved(bE,"["+bH+"]",function(bI){if(!bF.Contains(bI.getAttribute(bH)))bI.removeAttribute(bH);});}bG("ws-attr");bG("ws-onafterrender");bG("ws-var");p.foreachNotPreserved(bE,"[ws-hole]",function(bH){if(!bF.Contains(bH.getAttribute("ws-hole"))){bH.removeAttribute("ws-hole");while(bH.hasChildNodes())bH.removeChild(bH.lastChild);}});p.foreachNotPreserved(bE,"[ws-replace]",function(bH){if(!bF.Contains(bH.getAttribute("ws-replace")))bH.parentNode.removeChild(bH);});p.foreachNotPreserved(bE,"[ws-on]",function(bH){bH.setAttribute("ws-on",_4.concat(" ",t.filter(function(bI){return bF.Contains(t.get(_4.SplitChars(bI,[":"],1),1));},_4.SplitChars(bH.getAttribute("ws-on"),[" "],1))));});p.foreachNotPreserved(bE,"[ws-attr-holes]",function(bH){var bI,bJ,bK,bL,bM;bI=_4.SplitChars(bH.getAttribute("ws-attr-holes"),[" "],1);for(bJ=0,bK=bI.length-1;bJ<=bK;bJ++){bL=t.get(bI,bJ);bH.setAttribute(bL,(bM=new a.RegExp(p.TextHoleRE(),"g"),bH.getAttribute(bL).replace(bM,function(bN,bO){return bF.Contains(bO)?bN:"";})));}});};W.fillInstanceAttrs=function(bE,bF){var bG,bH,bI,bJ,bK;W.convertAttrs(bF);bG=bF.nodeName.toLowerCase();bH=bE.querySelector("[ws-attr="+bG+"]");if(w.Equals(bH,null))bC.warn("Filling non-existent attr hole",bG);else{bH.removeAttribute("ws-attr");for(bI=0,bJ=bF.attributes.length-1;bI<=bJ;bI++){bK=bF.attributes.item(bI);if(bK.name==="class"&&bH.hasAttribute("class"))bH.setAttribute("class",bH.getAttribute("class")+" "+bK.nodeValue);else bH.setAttribute(bK.name,bK.nodeValue);}}};W.mapHoles=function(bE,bF){function bG(bH){p.foreachNotPreserved(bE,"["+bH+"]",function(bI){var bJ,bK;bJ=(bK=null,[bF.TryGetValue(bI.getAttribute(bH).toLowerCase(),{get:function(){return bK;},set:function(bL){bK=bL;}}),bK]);if(bJ[0])bI.setAttribute(bH,bJ[1]);});}bG("ws-hole");bG("ws-replace");bG("ws-attr");bG("ws-onafterrender");bG("ws-var");p.foreachNotPreserved(bE,"[ws-on]",function(bH){bH.setAttribute("ws-on",_4.concat(" ",t.map(function(bI){var bJ,bK,bL;bJ=_4.SplitChars(bI,[":"],1);bK=(bL=null,[bF.TryGetValue(t.get(bJ,1),{get:function(){return bL;},set:function(bM){bL=bM;}}),bL]);return bK[0]?t.get(bJ,0)+":"+bK[1]:bI;},_4.SplitChars(bH.getAttribute("ws-on"),[" "],1))));});p.foreachNotPreserved(bE,"[ws-attr-holes]",function(bH){var bI,bJ,bK;bI=_4.SplitChars(bH.getAttribute("ws-attr-holes"),[" "],1);for(bJ=0,bK=bI.length-1;bJ<=bK;bJ++)(function(){var bL;function bM(bN,bO){var bP;bP=f.KeyValue(bO);return bN.replace(new a.RegExp("\\${"+bP[0]+"}","ig"),"${"+bP[1]+"}");}bL=t.get(bI,bJ);return bH.setAttribute(bL,(((bB.Curried3(N.fold))(bM))(bH.getAttribute(bL)))(bF));}());});};W.fill=function(bE,bF,bG){while(true)if(bE.hasChildNodes())bG=bF.insertBefore(bE.lastChild,bG);else return null;};W.convertAttrs=function(bE){var bG,bH,bI,bJ,bK,bL,bM,bN;function bF(bO){var bP;bP=bE.getAttribute(bO);if(bP===null);else bE.setAttribute(bO,bP.toLowerCase());}bG=bE.attributes;bH=[];bI=[];bJ=[];for(bK=0,bL=bG.length-1;bK<=bL;bK++){bM=bG.item(bK);if(_4.StartsWith(bM.nodeName,"ws-on")&&bM.nodeName!=="ws-onafterrender"&&bM.nodeName!=="ws-on"){bH.push(bM.nodeName);bI.push(X.string(bM.nodeName,{$:1,$0:"ws-on".length},null)+":"+bM.nodeValue.toLowerCase());}else!_4.StartsWith(bM.nodeName,"ws-")&&(new a.RegExp(p.TextHoleRE())).test(bM.nodeValue)?(bM.nodeValue=(bN=new a.RegExp(p.TextHoleRE(),"g"),bM.nodeValue.replace(bN,function(bO,bP){return"${"+bP.toLowerCase()+"}";})),bJ.push(bM.nodeName)):void 0;}if(!(bI.length==0))bE.setAttribute("ws-on",_4.concat(" ",bI));if(!(bJ.length==0))bE.setAttribute("ws-attr-holes",_4.concat(" ",bJ));bF("ws-hole");bF("ws-replace");bF("ws-attr");bF("ws-onafterrender");bF("ws-var");t.iter(function(bO){bE.removeAttribute(bO);},bH);};X.string=function(bE,bF,bG){return bF==null?bG!=null&&bG.$==1?bE.slice(0,bG.$0+1):"":bG==null?bE.slice(bF.$0):bE.slice(bF.$0,bG.$0+1);};N.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};Y=E.KeyCollection=bB.Class({GetEnumerator$1:function(){return I.Get(N.map(function(bE){return bE.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,Y);Y.New=bB.Ctor(function(bE){g.New.call(this);this.d=bE;},Y);Z.get_UseAnimations=function(){return _9.UseAnimations();};Z.Play=function(bE){var bF;bF=null;return _8.Delay(function(){return _8.Bind(Z.Run(a.ignore,_9.Actions(bE)),function(){_9.Finalize(bE);return _8.Return(null);});});};Z.Append=function(bE,bF){return{$:0,$0:bd.Append(bE.$0,bF.$0)};};Z.Run=function(bE,bF){var bG;function bH(bI){function bJ(bK){return function(bL){var bM;bM=bL-bK;bF.Compute(bM);bE();return bM<=bG?void a.requestAnimationFrame(function(bN){(bJ(bK))(bN);}):bI();};}a.requestAnimationFrame(function(bK){(bJ(bK))(bK);});}bG=bF.Duration;return bG===0?_8.Zero():_8.FromContinuations(function(bI,bJ,bK){return bH.apply(null,[bI,bJ,bK]);});};Z.Concat=function(bE){return{$:0,$0:bd.Concat(N.map(_9.List,bE))};};_0.BatchUpdatesEnabled=function(){_.$cctor();return _.BatchUpdatesEnabled;};_2.StartProcessor=function(bE){var bF;function bG(){var bH;bH=null;return _8.Delay(function(){return _8.Bind(bE,function(){var bI;bI=bF[0];return bI===1?(bF[0]=0,_8.Zero()):bI===2?(bF[0]=1,bG()):_8.Zero();});});}bF=[0];return function(){var bH;bH=bF[0];if(bH===0){bF[0]=1;_8.Start(bG(),null);}else bH===1?bF[0]=2:void 0;};};_3=h.Updates=bB.Class({},null,_3);_3.Create=function(bE){var bF;bF=null;bF=_3.New(bE,null,function(){var bG;bG=bF.s;return bG===null?(bG=J.Copy(bF.c()),bF.s=bG,J.WhenObsoleteRun(bG,function(){bF.s=null;}),bG):bG;});return bF;};_3.New=function(bE,bF,bG){return new _3({c:bE,s:bF,v:bG});};_4.concat=function(bE,bF){return t.ofSeq(bF).join(bE);};_4.SplitChars=function(bE,bF,bG){return _4.Split(bE,new a.RegExp("["+_4.RegexEscape(bF.join(""))+"]"),bG);};_4.StartsWith=function(bE,bF){return bE.substring(0,bF.length)==bF;};_4.Split=function(bE,bF,bG){return bG===1?t.filter(function(bH){return bH!=="";},_4.SplitWith(bE,bF)):_4.SplitWith(bE,bF);};_4.RegexEscape=function(bE){return bE.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};_4.SplitWith=function(bE,bF){return bE.split(bF);};_4.forall=function(bE,bF){return N.forall(bE,_4.protect(bF));};_4.protect=function(bE){return bE===null?"":bE;};_6.New=function(bE,bF){return{PreviousNodes:bE,Top:bF};};_7.get_Empty=function(){return{$:0,$0:new M.New$3()};};_7.FindAll=function(bE){var bF;function bG(bJ,bK){var bL,bM,bN,bO,bP;while(true)switch(bJ){case 0:if(bK!=null&&bK.$==0){bM=bK.$1;bN=bK.$0;bG(0,bN);bK=bM;}else if(bK!=null&&bK.$==1){bO=bK.$0;bK=bO;bJ=1;}else if(bK!=null&&bK.$==2){bP=bK.$0;bK=bP.Current;}else return bK!=null&&bK.$==6?(bL=bK.$0.Holes,(function(bQ){return function(bR){t.iter(bQ,bR);};}(bI))(bL)):null;break;case 1:bF.push(bK);bK=bK.Children;bJ=0;break;}}function bH(bJ){return bG(0,bJ);}function bI(bJ){return bG(1,bJ);}bF=[];bH(bE);return{$:0,$0:new M.New$2(bF)};};_7.Filter=function(bE,bF){return{$:0,$0:bp.Filter(bE,bF.$0)};};_7.Except=function(bE,bF){return{$:0,$0:bp.Except(bE.$0,bF.$0)};};_7.ToArray=function(bE){return bp.ToArray(bE.$0);};_7.Intersect=function(bE,bF){return{$:0,$0:bp.Intersect(bE.$0,bF.$0)};};_8.Delay=function(bE){return function(bF){try{(bE(null))(bF);}catch(bG){bF.k({$:1,$0:bG});}};};_8.Bind=function(bE,bF){return _8.checkCancel(function(bG){bE(bm.New(function(bH){var bI;if(bH.$==0){bI=bH.$0;_8.scheduler().Fork(function(){try{(bF(bI))(bG);}catch(bJ){bG.k({$:1,$0:bJ});}});}else _8.scheduler().Fork(function(){bG.k(bH);});},bG.ct));});};_8.Zero=function(){bn.$cctor();return bn.Zero;};_8.Start=function(bE,bF){var bG,bH;bG=(bH=(_8.defCTS())[0],bF==null?bH:bF.$0);_8.scheduler().Fork(function(){if(!bG.c)bE(bm.New(function(bI){if(bI.$==1)_8.UncaughtAsyncError(bI.$0);},bG));});};_8.Return=function(bE){return function(bF){bF.k({$:0,$0:bE});};};_8.scheduler=function(){bn.$cctor();return bn.scheduler;};_8.checkCancel=function(bE){return function(bF){if(bF.ct.c)_8.cancel(bF);else bE(bF);};};_8.defCTS=function(){bn.$cctor();return bn.defCTS;};_8.UncaughtAsyncError=function(bE){bC.log("WebSharper: Uncaught asynchronous exception",bE);};_8.FromContinuations=function(bE){return function(bF){var bG;function bH(bI){if(bG[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bG[0]=true;_8.scheduler().Fork(bI);}}bG=[false];bE(function(bI){bH(function(){bF.k({$:0,$0:bI});});},function(bI){bH(function(){bF.k({$:1,$0:bI});});},function(bI){bH(function(){bF.k({$:2,$0:bI});});});};};_8.cancel=function(bE){bE.k({$:2,$0:new bv.New(bE.ct)});};_9.UseAnimations=function(){bc.$cctor();return bc.UseAnimations;};_9.Actions=function(bE){return _9.ConcatActions(t.choose(function(bF){return bF.$==1?{$:1,$0:bF.$0}:null;},bd.ToArray(bE.$0)));};_9.Finalize=function(bE){t.iter(function(bF){if(bF.$==0)bF.$0();},bd.ToArray(bE.$0));};_9.ConcatActions=function(bE){var bF,bG,bH,bI;bF=l.ofSeqNonCopying(bE);bG=t.length(bF);return bG===0?_9.Const():bG===1?t.get(bF,0):(bH=N.max(N.map(function(bJ){return bJ.Duration;},bF)),(bI=t.map(function(bJ){return _9.Prolong(bH,bJ);},bF),_9.Def(bH,function(bJ){t.iter(function(bK){bK.Compute(bJ);},bI);})));};_9.List=function(bE){return bE.$0;};_9.Const=function(bE){return _9.Def(0,function(){return bE;});};_9.Def=function(bE,bF){return{Compute:bF,Duration:bE};};_9.Prolong=function(bE,bF){var bG,bH,bI;bG=bF.Compute;bH=bF.Duration;bI=bw.Create(function(){return bF.Compute(bF.Duration);});return{Compute:function(bJ){return bJ>=bH?bI.f():bG(bJ);},Duration:bE};};_.$cctor=function(){_.$cctor=a.ignore;_.BatchUpdatesEnabled=true;};$.Int=function(){$.set_counter($.counter()+1);return $.counter();};$.set_counter=function(bE){bq.$cctor();bq.counter=bE;};$.counter=function(){bq.$cctor();return bq.counter;};ba.$cctor=function(){var bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN;ba.$cctor=a.ignore;ba.EmptyAttr=null;ba.BoolCheckedApply=bB.Curried3(function(bO,bP,bQ){return[bP(function(bR){bR.addEventListener("change",function(){return!w.Equals(bO.Get(),bR.checked)?bO.Set(bR.checked):null;});}),bQ(function(bR){return function(bS){bR.checked=bS;};})];});ba.StringSet=function(bO){return function(bP){bO.value=bP;};};ba.StringGet=function(bO){return{$:1,$0:bO.value};};ba.StringApply=(bE=bh.StringGet(),(bF=bh.StringSet(),bB.Curried(bh.ApplyValue,3,[bE,function(bO,bP){return(bF(bO))(bP);}])));ba.IntSetUnchecked=function(bO){return function(bP){bO.value=a.String(bP);};};ba.IntGetUnchecked=function(bO){var bP,bQ;bP=bO.value;return bi.isBlank(bP)?{$:1,$0:0}:(bQ=+bP,bQ!==bQ>>0?null:{$:1,$0:bQ});};ba.IntApplyUnchecked=(bG=bh.IntGetUnchecked(),(bH=bh.IntSetUnchecked(),bB.Curried(bh.ApplyValue,3,[bG,function(bO,bP){return(bH(bO))(bP);}])));ba.IntSetChecked=function(bO){return function(bP){var bQ;bQ=bP.get_Input();return bO.value!==bQ?void(bO.value=bQ):null;};};ba.IntGetChecked=function(bO){var bP,bQ,bR;bP=bO.value;return{$:1,$0:bi.isBlank(bP)?(bO.checkValidity?bO.checkValidity():true)?new bj({$:2,$0:bP}):new bj({$:1,$0:bP}):(bQ=(bR=0,[T.TryParseInt32(bP,{get:function(){return bR;},set:function(bS){bR=bS;}}),bR]),bQ[0]?new bj({$:0,$0:bQ[1],$1:bP}):new bj({$:1,$0:bP}))};};ba.IntApplyChecked=(bI=bh.IntGetChecked(),(bJ=bh.IntSetChecked(),bB.Curried(bh.ApplyValue,3,[bI,function(bO,bP){return(bJ(bO))(bP);}])));ba.FloatSetUnchecked=function(bO){return function(bP){bO.value=a.String(bP);};};ba.FloatGetUnchecked=function(bO){var bP,bQ;bP=bO.value;return bi.isBlank(bP)?{$:1,$0:0}:(bQ=+bP,a.isNaN(bQ)?null:{$:1,$0:bQ});};ba.FloatApplyUnchecked=(bK=bh.FloatGetUnchecked(),(bL=bh.FloatSetUnchecked(),bB.Curried(bh.ApplyValue,3,[bK,function(bO,bP){return(bL(bO))(bP);}])));ba.FloatSetChecked=function(bO){return function(bP){var bQ;bQ=bP.get_Input();return bO.value!==bQ?void(bO.value=bQ):null;};};ba.FloatGetChecked=function(bO){var bP,bQ;bP=bO.value;return{$:1,$0:bi.isBlank(bP)?(bO.checkValidity?bO.checkValidity():true)?new bj({$:2,$0:bP}):new bj({$:1,$0:bP}):(bQ=+bP,a.isNaN(bQ)?new bj({$:1,$0:bP}):new bj({$:0,$0:bQ,$1:bP}))};};ba.FloatApplyChecked=(bM=bh.FloatGetChecked(),(bN=bh.FloatSetChecked(),bB.Curried(bh.ApplyValue,3,[bM,function(bO,bP){return(bN(bO))(bP);}])));};bb.$cctor=function(){var bE;bb.$cctor=a.ignore;bb.rxhtmlTag=new a.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi");bb.rtagName=new a.RegExp("<([\\w:]+)");bb.rhtml=new a.RegExp("<|&#?\\w+;");bb.wrapMap=(bE=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:bE,tbody:bE,tfoot:bE,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]});bb.defaultWrap=[0,"",""];};bc.$cctor=function(){bc.$cctor=a.ignore;bc.CubicInOut=bl.Custom(function(bE){var bF;bF=bE*bE;return 3*bF-2*(bF*bE);});bc.UseAnimations=true;};bd.Append=function(bE,bF){return bE.$==0?bF:bF.$==0?bE:{$:2,$0:bE,$1:bF};};bd.ToArray=function(bE){var bF;function bG(bH){var bI,bJ;while(true)if(bH.$==1)return bF.push(bH.$0);else if(bH.$==2){bI=bH.$1;bJ=bH.$0;bG(bJ);bH=bI;}else return bH.$==3?t.iter(function(bK){bF.push(bK);},bH.$0):null;}bF=[];bG(bE);return bF.slice(0);};bd.Concat=function(bE){var bF;bF=l.ofSeqNonCopying(bE);return l.TreeReduce(bd.Empty(),bd.Append,bF);};bd.Empty=function(){bx.$cctor();return bx.Empty;};be.concat=function(bE){var bF,bG;bF=[];for(var bH in bE)bF.push.apply(bF,bE[bH]);return bF;};bf.Clear=function(bE){bE.splice(0,t.length(bE));};bg=h.Var=bB.Class({},g,bg);bh.ApplyValue=function(bE,bF,bG,bH,bI){return[bH(function(bJ){function bK(){bG.UpdateMaybe(function(bL){var bM,bN;bM=bE(bJ);return bM!=null&&bM.$==1&&(!w.Equals(bM.$0,bL)&&(bN=[bM,bM.$0],true))?bN[0]:null;});}bJ.addEventListener("change",bK);bJ.addEventListener("input",bK);bJ.addEventListener("keypress",bK);}),bI(function(bJ){return function(bK){var bL,bM;bL=bE(bJ);return bL!=null&&bL.$==1&&(w.Equals(bL.$0,bK)&&(bM=bL.$0,true))?null:bF(bJ,bK);};})];};bh.StringSet=function(){ba.$cctor();return ba.StringSet;};bh.StringGet=function(){ba.$cctor();return ba.StringGet;};bh.IntSetUnchecked=function(){ba.$cctor();return ba.IntSetUnchecked;};bh.IntGetUnchecked=function(){ba.$cctor();return ba.IntGetUnchecked;};bh.IntSetChecked=function(){ba.$cctor();return ba.IntSetChecked;};bh.IntGetChecked=function(){ba.$cctor();return ba.IntGetChecked;};bh.FloatSetUnchecked=function(){ba.$cctor();return ba.FloatSetUnchecked;};bh.FloatGetUnchecked=function(){ba.$cctor();return ba.FloatGetUnchecked;};bh.FloatSetChecked=function(){ba.$cctor();return ba.FloatSetChecked;};bh.FloatGetChecked=function(){ba.$cctor();return ba.FloatGetChecked;};bi.isBlank=function(bE){return _4.forall(br.IsWhiteSpace,bE);};bj=h.CheckedInput=bB.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,bj);bk=_8.Scheduler=bB.Class({Fork:function(bE){var bF;bF=this;this.robin.push(bE);if(this.idle){this.idle=false;a.setTimeout(function(){bF.tick();},0);}},tick:function(){var bE,bF,bG;bF=this;bG=bD.now();bE=true;while(bE)if(this.robin.length===0){this.idle=true;bE=false;}else{(this.robin.shift())();bD.now()-bG>40?(a.setTimeout(function(){bF.tick();},0),bE=false):void 0;}}},g,bk);bk.New=bB.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},bk);bl=h.Easing=bB.Class({},g,bl);bl.Custom=function(bE){return new bl.New(bE);};bl.New=bB.Ctor(function(bE){g.New.call(this);this.transformTime=bE;},bl);bm.New=function(bE,bF){return{k:bE,ct:bF};};bn.$cctor=function(){bn.$cctor=a.ignore;bn.noneCT=bo.New(false,[]);bn.scheduler=new bk.New();bn.defCTS=[new bs.New()];bn.Zero=_8.Return();bn.GetCT=function(bE){bE.k({$:0,$0:bE.ct});};};bo.New=function(bE,bF){return{c:bE,r:bF};};bp.Filter=function(bE,bF){return new M.New$2(t.filter(bE,bp.ToArray(bF)));};bp.Except=function(bE,bF){var bG;bG=new M.New$2(bp.ToArray(bF));bG.ExceptWith(bp.ToArray(bE));return bG;};bp.ToArray=function(bE){var bF;bF=t.create(bE.get_Count(),void 0);bE.CopyTo(bF);return bF;};bp.Intersect=function(bE,bF){var bG;bG=new M.New$2(bp.ToArray(bE));bG.IntersectWith(bp.ToArray(bF));return bG;};bq.$cctor=function(){bq.$cctor=a.ignore;bq.counter=0;};br.IsWhiteSpace=function(bE){return bE.match(new a.RegExp("\\s"))!==null;};T.TryParse=function(bE,bF,bG,bH){var bI,bJ;bI=+bE;bJ=bI===bI-bI%1&&bI>=bF&&bI<=bG;if(bJ)bH.set(bI);return bJ;};bs=b.CancellationTokenSource=bB.Class({},g,bs);bs.New=bB.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bs);bt.Children=function(bE,bF){var bG,bH,bI;if(bF!=null&&bF.$==1){bI=[];bG=bF.$0[0].nextSibling;while(bG!==bF.$0[1]){bI.push(bG);bG=bG.nextSibling;}return{$:0,$0:bI};}else return{$:0,$0:t.init(bE.childNodes.length,(bH=bE.childNodes,function(bJ){return bH[bJ];}))};};bt.Except=function(bE,bF){var bG;bG=bE.$0;return{$:0,$0:t.filter(function(bH){return t.forall(function(bI){return!(bH===bI);},bG);},bF.$0)};};bt.Iter=function(bE,bF){t.iter(bE,bF.$0);};bt.DocChildren=function(bE){var bF;function bG(bH){var bI,bJ,bK,bL;while(true){if(bH!=null&&bH.$==2){bJ=bH.$0;bH=bJ.Current;}else if(bH!=null&&bH.$==1)return bF.push(bH.$0.El);else if(bH==null)return null;else if(bH!=null&&bH.$==5)return bF.push(bH.$0);else if(bH!=null&&bH.$==4)return bF.push(bH.$0.Text);else if(bH!=null&&bH.$==6){bI=bH.$0.Els;return(function(bM){return function(bN){t.iter(bM,bN);};}(function(bM){if(bM==null||bM.constructor===x)bG(bM);else bF.push(bM);}))(bI);}else{bK=bH.$1;bL=bH.$0;bG(bL);bH=bK;}}}bF=[];bG(bE.Children);return{$:0,$0:l.ofSeqNonCopying(bF)};};bv=b.OperationCanceledException=bB.Class({},bu,bv);bv.New=bB.Ctor(function(bE){bv.New$1.call(this,"The operation was canceled.",null,bE);},bv);bv.New$1=bB.Ctor(function(bE,bF,bG){this.message=bE;this.inner=bF;x.setPrototypeOf(this,bv.prototype);this.ct=bG;},bv);bw.Create=function(bE){return bz.New(false,bE,bw.forceLazy);};bw.forceLazy=function(){var bE;bE=this.v();this.c=true;this.v=bE;this.f=bw.cachedLazy;return bE;};bw.cachedLazy=function(){return this.v;};bx.$cctor=function(){bx.$cctor=a.ignore;bx.Empty={$:0};};bz.New=function(bE,bF,bG){return{c:bE,v:bF,f:bG};};bB.OnLoad(function(){e.Main();});}(self));


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
